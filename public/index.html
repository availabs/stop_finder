<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<script src="https://d3js.org/d3.v4.min.js" /></script>
<script src="./javascripts/paramHelpers.js" /></script>
<script src="./javascripts/onClickHelpers.js" /></script>
<script src="./javascripts/prettyDataKeys.js" /></script>
<script src="./javascripts/getData.js" /></script>
<link rel="stylesheet" href="/stylesheets/style.css">
<div class='container'>
  <h2>Nearby Transit Stops</h2>
  <div class="row">
    <div class="col-12" id="stops">
    </div>
  </div>
</div>
<script>  
  var params = getSearchParameters();

  var start = [ 
    params.lat || 40.487692978918865,
    params.lng || -74.38568115234375
  ]
  var stopIcons = []
   
  //Data from API that will be displayed (subset of those actually retreived)
  var displayedDataKeys = ['stop_id','stop_code']

  /*
  *
  * LEAFLET TAKES COORDS AS: LAT/LNG
  * POSTGIS TAKES COORDS AS: LNG/LAT
  * Parameter is LAT/LNG in order to work with Leaflet
  * Function reverses it when creating URL to get data
  *
  */
  getData(start, false)


</script>